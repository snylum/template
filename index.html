<!DOCTYPE html>
<html>
<head>
  <title>Gemini Template Generator</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: auto; padding: 20px; }
    textarea { width: 100%; margin: 10px 0; height: 100px; }
    button { padding: 10px 15px; border: none; background: #2a5a43; color: white; cursor: pointer; border-radius: 6px; }
    pre { background: #f4f4f4; padding: 10px; border-radius: 5px; white-space: pre-wrap; }
  </style>
</head>
<body>
  <h2>Template Generator</h2>

  <label>Template:</label>
  <textarea id="template" placeholder="Example: Create a lesson plan based on {{CURRICULUMSTANDARDS}} for {{TARGETGRADELEVEL}} students."></textarea>

  <label>Curriculum Standards:</label>
  <textarea id="curriculum" placeholder="Paste curriculum standards here"></textarea>

  <label>Target Grade Level:</label>
  <textarea id="grade" placeholder="Paste target grade level here"></textarea>

  <button onclick="generate()">Generate</button>

  <h3>Output:</h3>
  <pre id="output"></pre>

  <script>
    const API_KEY = "620972326283"; // Replace with your Gemini key

    async function generate() {
      const template = document.getElementById("template").value;
      const curriculum = document.getElementById("curriculum").value;
      const grade = document.getElementById("grade").value;

      // Replace placeholders
      let finalPrompt = template
        .replace("{{CURRICULUMSTANDARDS}}", curriculum)
        .replace("{{TARGETGRADELEVEL}}", grade);

      document.getElementById("output").innerText = "⏳ Generating...";

      try {
        const response = await fetch(
          "https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=" + API_KEY,
          {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              contents: [{ role: "user", parts: [{ text: finalPrompt }] }]
            })
          }
        );

        const data = await response.json();
        document.getElementById("output").innerText =
          data.candidates?.[0]?.content?.parts?.[0]?.text || "⚠️ No output generated";
      } catch (error) {
        document.getElementById("output").innerText = "❌ Error: " + error.message;
      }
    }
  </script>
</body>
</html>
